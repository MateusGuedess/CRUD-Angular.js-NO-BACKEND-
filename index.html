<!doctype html>
<html lang="pt">
  <head>
    <title>Crud Angular.js</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Angular JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
  </head>
  <body ng-app="mercado" ng-controller="mercadoController">
    
    <div class="container">
            <hr>
            <h1>Lista de Compras</h1>
            
            <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#exampleModal">
                    Adicionar
            </button>
            <hr>
        
            <table class="table table-hover table-striped table-sm">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Item</th>
                        <th scope="col">Quantidade</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Atualizar & Deletar</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="item in itens">
                        <th scope="row">#100{{$index+1}}</th>
                        <td>{{item.item}}</td>
                        <td>{{item.quantidade}}</td>
                        <td>{{item.marca}}</td>
                        <td><button class="btn btn-info btn-sm" data-toggle="modal" data-target="#exampleModalEditar" ng-click="selecionarItem(item)">Atualizar</button>
                        <button class="btn btn-danger btn-sm" data-toggle="modal" data-target="#exampleModalDeletar" ng-click="selecionarItem(item)">Deletar</button></td>
                      </tr>
                    </tbody>
                  </table>
        
    </div>

    
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group row">
                        <label for="itemText" class="col-sm-2 col-form-label">Item:</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="itemText" placeholder="Arroz" ng-model="novoItem.item">
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <label for="quantidadetext" class="col-sm-2 col-form-label">Quantidade:</label>
                        <div class="col-sm-10">
                        <input type="number" class="form-control" id="quantidadetext" placeholder="1" ng-model="novoItem.quantidade">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="marcaText" class="col-sm-2 col-form-label">Marca:</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="MarcaText" placeholder="Camil" ng-model="novoItem.marca">
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="salvarItem()">Adicionar</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Modal -->
<div class="modal fade" id="exampleModalEditar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group row">
                        <label for="itemText" class="col-sm-2 col-form-label">Item:</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="itemText" ng-model="itemClicado.item">
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <label for="quantidadetext" class="col-sm-2 col-form-label">Quantidade:</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="quantidadetext" ng-model="itemClicado.quantidade">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="marcaText" class="col-sm-2 col-form-label">Marca:</label>
                        <div class="col-sm-10">
                        <input type="text" class="form-control" id="MarcaText" ng-model="itemClicado.marca">
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Atualizar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal -->
<div class="modal fade" id="exampleModalDeletar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <strong style="color:red;">
                    Tem certeza que quer deletar {{item.nome}} da lista?
                </strong>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">NÃ£o</button>
              <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="deletarItem()">Sim</button>
            </div>
          </div>
        </div>
      </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
  </body>
</html>